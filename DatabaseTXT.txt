CREATE DATABASE RentalDB;

CREATE TABLE IdentityCard (
	IdentityId INT NOT NULL PRIMARY KEY,
	FirstName VARCHAR NOT NULL,
	LastName VARCHAR NOT NULL,
	DateOfBirth DATE NOT NULL,
	Gender VARCHAR NOT NULL,
	HomeAddress VARCHAR NOT NULL,
	Email VARCHAR NOT NULL,
);

CREATE TABLE Member (
	MemberId INT NOT NULL PRIMARY KEY,
	FirstName VARCHAR NOT NULL,
	LastName VARCHAR NOT NULL,
	Gender VARCHAR NOT NULL,
	Email VARCHAR NOT NULL,
	IdentityId INT FOREIGN KEY REFERENCES IdentityCard(IdentityId)
);

CREATE TABLE Rental (
	RentalId INT NOT NULL PRIMARY KEY,
	RentalDate DATE NOT NULL,
	RentalExpiry DATE NOT NULL,
	Total MONEY NOT NULL,
	MemberId INT FOREIGN KEY REFERENCES Member(MemberId)
);

CREATE TABLE Movie (
	MovieId INT NOT NULL PRIMARY KEY,
	MovieName VARCHAR NOT NULL,
	Genre VARCHAR NOT NULL,
	Rating DECIMAL NOT NULL,
	Director VARCHAR NOT NULL,
	CountryOfOrigin VARCHAR NOT NULL,
	ReleaseYear INT NOT NULL,
	RentalCost MONEY NOT NULL,
	RentalDuration INT NOT NULL
);

CREATE TABLE MovieRental (
	MovieRentalId INT NOT NULL PRIMARY KEY,
	RentalId INT FOREIGN KEY REFERENCES Rental(RentalId),
	MovieId INT FOREIGN KEY REFERENCES Movie(MovieId)
);